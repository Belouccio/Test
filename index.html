<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Тестовое задание</title>
    </head>
    <body>
        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
            }
            
            body {
                background: #efefef;
            }
            
            .circle {
                background: red;
                position: absolute;
                top: 50%;
                left: 50%;
                width: 60px;
                height: 60px;
                border-radius: 100px;
            }
            
            .circle-shadow {
                background: #ddd;
                position: absolute;
                width: 60px;
                height: 60px;
                border-radius: 100px;
            }

        </style>


        <div id='circle' class='circle'></div>
        
        <script>
            (function() {

	            var circleCoords = document.getElementById("circle").getBoundingClientRect();
	            
	            document.body.innerHTML += "<div id='moving' class='circle-shadow' style='top:" + circleCoords.bottom + "px; left:" + circleCoords.left + "px'></div>";
	            
	            var circle = document.getElementById("moving");
		            circle.addEventListener("mousedown", circleMouseDown);
		            circle.addEventListener("mouseup", circleMouseUp);


	            function circleMouseDown() {
	                circle.addEventListener("mousemove", circleMouseMove)    
	            };

	            function circleMouseUp() {
            		circle.removeEventListener("mousemove", circleMouseMove);
	                circle.style.left = circleCoords.left + "px";
	                circle.style.top = circleCoords.bottom + "px";
	                circle.style.transition = "all .7s";
	            };

	            function circleMouseMove(event) {
		    		var dx = event.clientX - 30;
	                var dy = event.clientY - 30;
	                circle.style.transition = "all .0s"
	                circle.style.left = dx + "px";
	                circle.style.top = dy + "px";
	            };

	            
            })()

        </script>
    </body>
</html>
